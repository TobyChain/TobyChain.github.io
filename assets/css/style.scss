---
---

@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap');
@import "main/variables";
@import "main";

/* ==========================================================================
   Immersive Reading / "Swiss Style" Overrides
   Design Goals: High Legibility, Less "App-like", Editorial Feel
   ========================================================================== */

/* --- Light Mode (Swiss Style) --- */
:root, html[data-mode="light"] {
  /* --- Global Colors --- */
  --main-bg: #FFFFFF;        /* Pure White Background */
  --body-bg: #FFFFFF;
  --text-color: #1A1A1A;     /* Deep Charcoal */
  --heading-color: #111111;
  --muted-text-color: #666666;
  
  /* --- Accent Colors --- */
  --link-color: #2E5C5A;     /* Retro Dark Green */
  --link-hover-color: #1F403D;
  --btn-btn-bg: #2E5C5A;
  
  /* --- Sidebar --- */
  --sidebar-bg: #FAFAFA;
  --sidebar-border-right: 1px solid #EAEAEA;
  --nav-key-color: #555555;
  --nav-hover-bg: #EAEAEA;
  
  /* --- Cards --- */
  --card-bg: #FFFFFF;
  --card-border-color: #EAEAEA;
  --card-box-shadow: none;
  
  /* --- Topbar --- */
  --topbar-bg: rgba(255, 255, 255, 0.95);
  --search-wrapper-bg: #F0F0F0;
  --search-wrapper-border-color: #E0E0E0;
}

/* --- Dark Mode (Custom Palette) --- */
/* Palette: ["1e1e24" (Bg), "fb9f89" (Accent), "c4af9a" (Text), "ada180" (Muted), "6d8240" (Green)] */
html[data-mode="dark"] {
  /* --- Global Colors --- */
  --main-bg: #1e1e24;
  --body-bg: #1e1e24;
  --mask-bg: #1e1e24;
  --text-color: #c4af9a;     /* Khaki/Tan Text */
  --heading-color: #c4af9a;  /* Same or slightly brighter? Keep consistent */
  --muted-text-color: #ada180; /* Sage/Olive */
  
  /* --- Accent Colors --- */
  --link-color: #fb9f89;     /* Light Coral/Salmon */
  --link-hover-color: #ada180;
  --btn-btn-bg: #fb9f89;
  
  /* --- Sidebar --- */
  --sidebar-bg: #1e1e24;     /* Match body for immersive feel */
  --sidebar-border-right: 1px solid #2a2a30; /* Subtle border */
  --nav-key-color: #ada180;
  --nav-hover-bg: #2a2a30;
  
  /* --- Cards --- */
  --card-bg: #1e1e24;        /* Flattened */
  --card-border-color: #2a2a30;
  --card-box-shadow: none;
  
  /* --- Topbar --- */
  --topbar-bg: rgba(30, 30, 36, 0.95);
  --search-wrapper-bg: #2a2a30;
  --search-wrapper-border-color: #2a2a30;
  
  /* --- Code Blocks --- */
  /* Optional: Adjust highlighting background to fit palette if needed */
  /* --code-bg: #25252b; */
}


/* --- Specific Structural Overrides --- */

/* Sidebar: Make it light and fix text contrast */
#sidebar {
  background-color: var(--sidebar-bg) !important;
  border-right: var(--sidebar-border-right);
  
  /* Profile Area */
  .profile-wrapper {
    border-bottom: 1px solid var(--sidebar-border-right) !important;
    
    #avatar {
        box-shadow: none; /* Remove avatar shadow */
        border: 1px solid var(--sidebar-border-right) !important;
    }
    .site-title a {
        color: var(--heading-color) !important; 
    }
    .site-subtitle {
        color: var(--muted-text-color) !important;
    }
  }
  
  /* Navigation Links */
  .nav-link {
    color: var(--nav-key-color) !important;
  }
  
  .nav-link:hover {
    background-color: var(--nav-hover-bg) !important;
    /* In dark mode, we want light text on hover, in light mode specific color. 
       Let's rely on var or specific overrides */
    color: var(--heading-color) !important; 
  }
  
  .nav-link.active {
    color: var(--link-color) !important;
    background: transparent !important; /* Remove active block background if desired */
    font-weight: 700;
  }
  .nav-link.active i {
      color: var(--link-color) !important;
  }

  /* Sidebar Bottom (Social Links) */
  .sidebar-bottom {
      border-top: 1px solid var(--sidebar-border-right) !important;
      
      a {
          color: var(--muted-text-color) !important;
      }
      a:hover {
          color: var(--link-color) !important;
      }
  }
}


/* Cards (Post Previews): Flat & Bordered style */
.post-preview {
  background-color: transparent !important;
  box-shadow: none !important;
  border: none !important; /* Remove default card border if any */
  border-bottom: 1px solid var(--card-border-color) !important; /* Divider style instead of card style */
  padding-bottom: 2rem;
  margin-bottom: 2rem;
}

/* Typography Refinements */
body {
    -webkit-font-smoothing: antialiased;
}

h1, h2, h3, h4 {
    letter-spacing: -0.02em; /* Tighter headings for editorial feel */
    font-weight: 600;
}
